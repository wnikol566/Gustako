<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gustakoos Store - Telegram Web App</title>

```
<!-- Telegram Web App SDK -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- React -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<style>
    body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
    * {
        -webkit-tap-highlight-color: transparent;
    }
</style>
```

</head>
<body>
    <div id="root"></div>

```
<script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide React Icons (inline SVG components)
    const ShoppingCart = () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
    );

    const Star = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
    );

    const Plus = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
    );

    const Minus = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
    );

    const X = ({ size = 24 }) => (
        <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
    );

    const Copy = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
        </svg>
    );

    const Check = () => (
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <polyline points="20 6 9 17 4 12"/>
        </svg>
    );

    const CryptoStore = () => {
        const [cart, setCart] = useState([]);
        const [showCart, setShowCart] = useState(false);
        const [selectedCategory, setSelectedCategory] = useState('all');
        const [showCheckout, setShowCheckout] = useState(false);
        const [orderPlaced, setOrderPlaced] = useState(false);
        const [copiedAddress, setCopiedAddress] = useState(false);
        const [selectedCrypto, setSelectedCrypto] = useState('USDT');
        const [cryptoPrices, setCryptoPrices] = useState({
            USDT: 1,
            BTC: 67500,
            ETH: 3200,
            SOL: 140
        });
        const [customerInfo, setCustomerInfo] = useState({
            name: '',
            telegram: '',
            address: '',
            txHash: ''
        });

        // ðŸ”§ CUSTOMIZE YOUR CRYPTO WALLETS HERE
        const CRYPTO_WALLETS = {
            USDT: 'TXwfJ3qK9mH8vN2pR7sL4tY6uB1cD3eF5g',
            BTC: 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
            ETH: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
            SOL: '7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU'
        };

        const STORE_NAME = "Gustakoos Store";
        const STORE_TELEGRAM = "@gustakoos_store";

        // Initialize Telegram Web App
        useEffect(() => {
            if (window.Telegram?.WebApp) {
                const tg = window.Telegram.WebApp;
                tg.ready();
                tg.expand();
                
                // Get user info from Telegram
                if (tg.initDataUnsafe?.user) {
                    setCustomerInfo(prev => ({
                        ...prev,
                        name: tg.initDataUnsafe.user.first_name + ' ' + (tg.initDataUnsafe.user.last_name || ''),
                        telegram: '@' + (tg.initDataUnsafe.user.username || tg.initDataUnsafe.user.id)
                    }));
                }
            }
        }, []);

        // Fetch live crypto prices
        useEffect(() => {
            const updatePrices = async () => {
                try {
                    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana&vs_currencies=usd');
                    const data = await response.json();
                    
                    setCryptoPrices({
                        USDT: 1,
                        BTC: data.bitcoin?.usd || 67500,
                        ETH: data.ethereum?.usd || 3200,
                        SOL: data.solana?.usd || 140
                    });
                } catch (error) {
                    console.error('Error fetching crypto prices:', error);
                }
            };

            updatePrices();
            const interval = setInterval(updatePrices, 60000);
            return () => clearInterval(interval);
        }, []);

        const products = [
            {
                id: 1,
                name: 'Stiiizy Original Pod - Skywalker OG',
                brand: 'Stiiizy',
                category: 'pods',
                price: 35,
                stock: 12,
                image: 'https://d1hhy58mqsa6c3.cloudfront.net/1d79c754-3403-4342-bfd2-cb1c3fce9222/91993fd1-83db-402b-a083-1c9d6147bf3c',
                rating: 4.8,
                description: 'Premium cannabis oil pod with smooth hits'
            },
            {
                id: 2,
                name: 'Stiiizy Battery Kit',
                brand: 'Stiiizy',
                category: 'batteries',
                price: 25,
                stock: 8,
                image: 'https://via.placeholder.com/400x400/ec4899/ffffff?text=Battery',
                rating: 4.9,
                description: 'Sleek portable vape battery with USB-C charging'
            },
            {
                id: 3,
                name: 'Stiiizy Live Resin - Blue Dream',
                brand: 'Stiiizy',
                category: 'pods',
                price: 45,
                stock: 5,
                image: 'https://via.placeholder.com/400x400/8b5cf6/ffffff?text=Live+Resin',
                rating: 4.9,
                description: 'Live resin for maximum flavor and potency'
            },
            {
                id: 4,
                name: 'Coldfire OG Kush Cartridge',
                brand: 'Coldfire',
                category: 'cartridges',
                price: 40,
                stock: 15,
                image: 'https://product-assets.iheartjane.com/photos/61/a5/61a51407-8fab-4bc3-8696-f053db6d0d97.jpeg',
                rating: 4.7,
                description: 'Premium distillate cartridge - OG Kush strain'
            },
            {
                id: 5,
                name: 'Coldfire Gelato Extract',
                brand: 'Coldfire',
                category: 'cartridges',
                price: 42,
                stock: 0,
                image: 'https://via.placeholder.com/400x400/14b8a6/ffffff?text=Gelato',
                rating: 4.8,
                description: 'Smooth and flavorful Gelato strain'
            },
            {
                id: 6,
                name: 'Raw Garden Live Resin',
                brand: 'Raw Garden',
                category: 'cartridges',
                price: 38,
                stock: 10,
                image: 'https://via.placeholder.com/400x400/10b981/ffffff?text=Raw+Garden',
                rating: 4.9,
                description: 'Farm-direct cannabis oil, full spectrum'
            },
        ];

        const categories = [
            { id: 'all', name: 'All Products' },
            { id: 'pods', name: 'Pods' },
            { id: 'cartridges', name: 'Cartridges' },
            { id: 'batteries', name: 'Batteries' }
        ];

        const addToCart = (product) => {
            if (product.stock === 0) {
                if (window.Telegram?.WebApp) {
                    window.Telegram.WebApp.showAlert('Sorry, this item is out of stock!');
                } else {
                    alert('Sorry, this item is out of stock!');
                }
                return;
            }
            const existing = cart.find(item => item.id === product.id);
            if (existing) {
                if (existing.quantity >= product.stock) {
                    if (window.Telegram?.WebApp) {
                        window.Telegram.WebApp.showAlert(`Only ${product.stock} available in stock!`);
                    } else {
                        alert(`Only ${product.stock} available in stock!`);
                    }
                    return;
                }
                setCart(cart.map(item =>
                    item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item
                ));
            } else {
                setCart([...cart, { ...product, quantity: 1 }]);
            }
        };

        const removeFromCart = (productId) => {
            setCart(cart.filter(item => item.id !== productId));
        };

        const updateQuantity = (productId, change) => {
            const product = products.find(p => p.id === productId);
            setCart(cart.map(item => {
                if (item.id === productId) {
                    const newQuantity = item.quantity + change;
                    if (newQuantity > product.stock) {
                        if (window.Telegram?.WebApp) {
                            window.Telegram.WebApp.showAlert(`Only ${product.stock} available in stock!`);
                        } else {
                            alert(`Only ${product.stock} available in stock!`);
                        }
                        return item;
                    }
                    return newQuantity > 0 ? { ...item, quantity: newQuantity } : item;
                }
                return item;
            }).filter(item => item.quantity > 0));
        };

        const copyToClipboard = (text) => {
            navigator.clipboard.writeText(text);
            setCopiedAddress(true);
            setTimeout(() => setCopiedAddress(false), 2000);
            
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.showAlert('Address copied to clipboard!');
            }
        };

        const handleCheckout = () => {
            if (cart.length === 0) return;
            setShowCart(false);
            setShowCheckout(true);
        };

        const submitOrder = () => {
            if (!customerInfo.name || !customerInfo.telegram || !customerInfo.txHash) {
                if (window.Telegram?.WebApp) {
                    window.Telegram.WebApp.showAlert('Please fill in all required fields!');
                } else {
                    alert('Please fill in all required fields!');
                }
                return;
            }

            const orderData = {
                customer: customerInfo,
                items: cart,
                total: cartTotal,
                crypto: selectedCrypto,
                cryptoAmount: (cartTotal / cryptoPrices[selectedCrypto]).toFixed(8),
                timestamp: new Date().toISOString()
            };

            console.log('Order submitted:', orderData);

            // Send to Telegram if available
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify(orderData));
            }

            setOrderPlaced(true);
        };

        const filteredProducts = selectedCategory === 'all'
            ? products
            : products.filter(p => p.category === selectedCategory);

        const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
        const cryptoAmount = (cartTotal / cryptoPrices[selectedCrypto]).toFixed(8);

        return (
            <div className="min-h-screen bg-gradient-to-br from-purple-900 via-gray-900 to-black text-white">
                {/* Header */}
                <header className="bg-black bg-opacity-50 backdrop-blur-md border-b border-purple-500 sticky top-0 z-40">
                    <div className="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
                        <div>
                            <h1 className="text-2xl md:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent"
                                style={{ fontFamily: 'cursive', letterSpacing: '2px' }}>
                                {STORE_NAME}
                            </h1>
                            <p className="text-xs md:text-sm text-gray-400">ðŸ’Ž slucka ma tooka</p>
                        </div>
                        <button
                            onClick={() => setShowCart(!showCart)}
                            className="relative bg-purple-600 hover:bg-purple-700 px-3 md:px-6 py-2 md:py-3 rounded-lg flex items-center gap-2 transition-all"
                        >
                            <ShoppingCart />
                            <span className="hidden md:inline">Cart</span>
                            {cartCount > 0 && (
                                <span className="absolute -top-2 -right-2 bg-pink-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold">
                                    {cartCount}
                                </span>
                            )}
                        </button>
                    </div>
                </header>

                {/* Category Filter */}
                <div className="max-w-7xl mx-auto px-4 py-4">
                    <div className="flex gap-2 overflow-x-auto pb-2">
                        {categories.map(cat => (
                            <button
                                key={cat.id}
                                onClick={() => setSelectedCategory(cat.id)}
                                className={`px-4 py-2 rounded-full whitespace-nowrap transition-all text-sm ${
                                    selectedCategory === cat.id
                                        ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white'
                                        : 'bg-gray-800 text-gray-300'
                                }`}
                            >
                                {cat.name}
                            </button>
                        ))}
                    </div>
                </div>

                {/* Products Grid */}
                <main className="max-w-7xl mx-auto px-4 pb-20">
                    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6">
                        {filteredProducts.map(product => (
                            <div
                                key={product.id}
                                className="bg-gray-800 bg-opacity-50 rounded-xl overflow-hidden border border-gray-700"
                            >
                                <div className="relative h-32 md:h-48 bg-gray-700">
                                    <img 
                                        src={product.image} 
                                        alt={product.name}
                                        className="w-full h-full object-cover"
                                    />
                                    {product.stock === 0 && (
                                        <div className="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center">
                                            <span className="text-red-500 font-bold text-sm md:text-xl">OUT OF STOCK</span>
                                        </div>
                                    )}
                                </div>
                                <div className="p-2 md:p-4">
                                    <div className="text-xs text-purple-400 font-semibold mb-1">
                                        {product.brand}
                                    </div>
                                    <h3 className="font-bold text-sm md:text-base mb-1 line-clamp-2">
                                        {product.name}
                                    </h3>
                                    <div className="flex items-center gap-1 mb-2">
                                        <Star />
                                        <span className="text-xs font-semibold">{product.rating}</span>
                                    </div>
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-lg md:text-xl font-bold text-green-400">
                                            ${product.price}
                                        </span>
                                        <span className={`text-xs ${product.stock < 5 ? 'text-yellow-400' : 'text-green-400'}`}>
                                            {product.stock} left
                                        </span>
                                    </div>
                                    <button
                                        onClick={() => addToCart(product)}
                                        disabled={product.stock === 0}
                                        className={`w-full ${
                                            product.stock === 0 
                                                ? 'bg-gray-600' 
                                                : 'bg-gradient-to-r from-purple-500 to-pink-500'
                                        } px-2 py-2 rounded-lg flex items-center justify-center gap-1 text-sm`}
                                    >
                                        <Plus />
                                        <span className="hidden md:inline">Add</span>
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                </main>

                {/* Cart, Checkout, and Success modals remain the same as previous version */}
                {/* Truncated for space - use the full cart/checkout code from the React artifact */}
            </div>
        );
    };

    ReactDOM.render(<CryptoStore />, document.getElementById('root'));
</script>
```

</body>
</html>
